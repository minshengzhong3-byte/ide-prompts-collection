# IDE适配器核心提示词

**文件类型：** 核心基础层
**用途：** IDE环境检测和路径适配
**继承：** 必须继承

## 🎯 **核心功能**

### **IDE环境检测**
- 自动识别Cursor、Trae、VS Code等IDE环境
- 检测IDE的固定project rules文件路径
- 创建必要的配置目录和文件

### **路径适配策略**
- **Cursor IDE：** `.cursor/project_rules.md`
- **Trae IDE：** `.trae/project_rules.md`
- **VS Code：** `.vscode/project_rules.md`
- **主规则文件：** `trae_rules/project_rules.md`

### **同步机制**
- 主规则文件更新时自动同步到所有IDE路径
- 保持所有路径的规则文件一致性
- 提供手动同步命令

## 🔧 **执行流程**

### **1. 环境检测阶段**
```
1. 扫描项目根目录
2. 检查IDE配置文件
3. 确定project rules文件路径
4. 创建必要的目录结构
```

### **2. 规则同步阶段**
```
1. 读取主规则文件内容
2. 更新IDE特定的头部信息
3. 同步到所有IDE路径
4. 建立文件链接确保一致性
```

### **3. 状态监控阶段**
```
1. 监控主规则文件变化
2. 自动触发同步操作
3. 记录同步状态和日志
4. 生成状态报告
```

## 📋 **必须执行的任务**

### **初始化任务**
- [ ] 检测当前IDE环境
- [ ] 创建IDE配置目录
- [ ] 初始化project rules文件
- [ ] 建立路径映射关系

### **运行时任务**
- [ ] 监控规则文件变化
- [ ] 自动同步到IDE路径
- [ ] 更新状态信息
- [ ] 记录操作日志

## 🚀 **现在开始执行**

**[状态] IDE适配器初始化 | 任务: 检测IDE环境，建立路径映射，开始规则同步**

---
*此文件是IDE适配器的核心提示词，必须被所有相关操作继承*